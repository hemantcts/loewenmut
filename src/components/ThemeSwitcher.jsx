import React, { useState } from "react";

const ThemeSwitcher = () => {
    const [open, setOpen] = useState(false);
    const [activeTheme, setActiveTheme] = useState("yellow"); // default theme

    const changeTheme = (theme) => {
        const themeLink = document.getElementById("themeStylesheet");
        if (themeLink) {
            themeLink.setAttribute("href", `${process.env.PUBLIC_URL}/styles/style_${theme}.css`);
        }
        setActiveTheme(theme);
        setOpen(false);
    };

    return (

        <div class="theme_choose_option dropdown">
            <button class="theme_toggle_btn" type="button" id="dropdownTheme" data-bs-toggle="dropdown" aria-expanded="false">
                <svg width="41" height="32" viewBox="0 0 41 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M40.0857 1.76892C39.3539 0.82204 38.288 0.208478 37.0896 0.0436235C35.8893 -0.121212 34.6946 0.18465 33.7258 0.900763L27.8139 5.27991L26.9496 4.15903C26.4102 3.46121 25.6262 3.00519 24.7413 2.88797C23.8565 2.76526 22.9773 2.99054 22.2605 3.5217C21.5492 4.051 21.0845 4.82023 20.965 5.68839C20.8399 6.55655 21.0695 7.41917 21.6109 8.12248L22.4752 9.24335L2.66187 23.9321C2.20266 24.2691 1.90773 24.7672 1.83117 25.3241L1.59783 26.9651C1.5269 27.4669 1.26369 27.9083 0.853013 28.2124C-0.0934245 28.9157 -0.280084 30.2381 0.433001 31.1667C0.776476 31.6172 1.2842 31.9066 1.85173 31.9817C1.95253 31.9963 2.05333 32 2.15227 32C2.61521 32 3.06511 31.8553 3.44216 31.5733C3.85283 31.2692 4.36059 31.1374 4.8702 31.2069L6.54278 31.4359C7.11212 31.5165 7.67587 31.37 8.1332 31.0275L27.9465 16.3387L28.8108 17.4596C29.3503 18.1574 30.1343 18.6134 31.0191 18.7307C31.1759 18.7545 31.329 18.7636 31.4877 18.7636C32.2101 18.7636 32.912 18.5347 33.5 18.0969C34.2112 17.5676 34.676 16.7984 34.7954 15.9303C34.9149 15.0621 34.6909 14.1995 34.1495 13.4962L33.2853 12.3753L39.1971 7.99614C40.1622 7.27821 40.7875 6.2324 40.9555 5.05656C41.1235 3.87891 40.8118 2.70673 40.0819 1.75615L40.0857 1.76892ZM26.8021 14.8513L6.98877 29.54C6.94024 29.5767 6.87863 29.5968 6.81143 29.5877L5.13886 29.3587C4.1215 29.2177 3.11347 29.4759 2.29587 30.0859C2.22867 30.1335 2.16146 30.1371 2.11853 30.1335C2.0756 30.128 2.00839 30.106 1.96173 30.0437C1.87959 29.9412 1.90386 29.7946 2.01026 29.7159C2.82786 29.1115 3.35802 28.225 3.49618 27.2305L3.72952 25.5895C3.73885 25.529 3.77245 25.4722 3.82099 25.4356L23.6343 10.7469L26.7648 14.8129L26.8021 14.8641L26.8021 14.8513ZM32.9079 15.6846C32.8557 16.0546 32.6597 16.3879 32.3535 16.6132C32.0473 16.8385 31.6703 16.9374 31.2932 16.8843C30.9161 16.833 30.5764 16.6407 30.3467 16.3403L23.1451 6.98684C22.9155 6.68647 22.8147 6.31649 22.8688 5.94651C22.9211 5.57654 23.1171 5.24321 23.4233 5.01791C23.7294 4.79264 24.1065 4.69373 24.4836 4.74685C24.8607 4.79814 25.2004 4.99044 25.43 5.29083L32.6317 14.6406C32.8613 14.9409 32.9621 15.3109 32.9079 15.6809V15.6846ZM39.0683 4.81249C38.9731 5.49746 38.609 6.0964 38.0509 6.51397L32.1391 10.8931L28.9713 6.77588L34.8831 2.39674C35.4431 1.97915 36.1357 1.80151 36.8282 1.90039C37.5263 1.9938 38.1368 2.35095 38.5624 2.89857C38.988 3.44804 39.1653 4.12752 39.0683 4.80701V4.81249Z" fill="inherit" />
                </svg>
            </button>
            <ul class="dropdown-menu" aria-labelledby="dropdownTheme">
                <li>
                    <button className="dropdown-item th_yellow" onClick={() => changeTheme("yellow")}></button>
                </li>
                <li>
                    <button className="dropdown-item th_blue" onClick={() => changeTheme("blue")}></button>
                </li>
                <li>
                    <button className="dropdown-item th_green" onClick={() => changeTheme("green")}></button>
                </li>
                <li>
                    <button className="dropdown-item th_pink" onClick={() => changeTheme("pink")}></button>
                </li>
                <li>
                    <button className="dropdown-item th_violet" onClick={() => changeTheme("violet")}></button>
                </li>
            </ul>
        </div>
    );
};

export default ThemeSwitcher;
